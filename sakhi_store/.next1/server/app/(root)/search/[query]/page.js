(()=>{var e={};e.id=375,e.ids=[375],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6113:e=>{"use strict";e.exports=require("crypto")},6005:e=>{"use strict";e.exports=require("node:crypto")},1017:e=>{"use strict";e.exports=require("path")},7310:e=>{"use strict";e.exports=require("url")},6809:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.r(t),r.d(t,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>y,pages:()=>x,routeModule:()=>f,tree:()=>h});var a=r(3296),i=r(2067);r(2075);var o=r(2504),n=r(5932),c=r(6550),l=r.n(c),d=r(6979),u={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(u[e]=()=>d[e]);r.d(t,u);var p=e([a,i]);[a,i]=p.then?(await p)():p;let h=["",{children:["(root)",{children:["search",{children:["[query]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,3296)),"C:\\sakhi\\sakhi_store\\app\\(root)\\search\\[query]\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,2067)),"C:\\sakhi\\sakhi_store\\app\\(root)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,2075,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,7481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{"not-found":[()=>Promise.resolve().then(r.t.bind(r,2075,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,7481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],x=["C:\\sakhi\\sakhi_store\\app\\(root)\\search\\[query]\\page.tsx"],y="/(root)/search/[query]/page",m={require:r,loadChunk:()=>Promise.resolve()},f=new o.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/(root)/search/[query]/page",pathname:"/search/[query]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:h}});s()}catch(e){s(e)}})},1281:(e,t,r)=>{Promise.resolve().then(r.bind(r,3333))},7068:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var s=r(326),a=r(6775);let i=(0,r(2881).Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);var o=r(5047),n=r(7577);let c=({product:e,updateSignedInUser:t})=>{let r=(0,o.useRouter)(),{user:c}=(0,a.aF)(),[l,d]=(0,n.useState)(!1),[u,p]=(0,n.useState)(!1),h=async()=>{try{d(!0);let t=await fetch("/api/users"),r=await t.json();p(r.wishlist.includes(e._id)),d(!1)}catch(e){console.log("[users_GET]",e)}};(0,n.useEffect)(()=>{c&&h()},[c]);let x=async s=>{s.preventDefault();try{if(c){let r=await fetch("/api/users/wishlist",{method:"POST",body:JSON.stringify({productId:e._id})}),s=await r.json();p(s.wishlist.includes(e._id)),t&&t(s)}else{r.push("/sign-in");return}}catch(e){console.log("[wishlist_POST]",e)}};return s.jsx("button",{onClick:x,children:s.jsx(i,{fill:`${u?"red":"white"}`})})}},3333:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});var s=r(326),a=r(6226),i=r(434),o=r(7068);let n=({product:e,updateSignedInUser:t})=>(0,s.jsxs)(i.default,{href:`/products/${e._id}`,className:"w-[220px] flex flex-col gap-2",children:[s.jsx(a.default,{src:e.media[0],alt:"product",width:250,height:300,className:"h-[250px] rounded-lg object-cover"}),(0,s.jsxs)("div",{children:[s.jsx("p",{className:"text-base-bold",children:e.title}),s.jsx("p",{className:"text-small-medium text-grey-2",children:e.category})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("p",{className:"text-body-bold",children:["Rs.",e.price]}),s.jsx(o.Z,{product:e,updateSignedInUser:t})]})]})},3296:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.r(t),r.d(t,{default:()=>d,dynamic:()=>l});var a=r(4150),i=r(2685),o=r(4363),n=e([i]);i=(n.then?(await n)():n)[0];let c=async({params:e})=>{let t=await (0,o.Dk)(e.query),r=decodeURIComponent(e.query);return(0,a.jsxs)("div",{className:"px-10 py-5",children:[(0,a.jsxs)("p",{className:"text-heading3-bold my-10",children:["Search results for ",r]}),!t||0===t.length&&a.jsx("p",{className:"text-body-bold my-5",children:"No result found"}),a.jsx("div",{className:"flex flex-wrap justify-between gap-16",children:t?.map(e=>a.jsx(i.Z,{product:e},e._id))})]})},l="force-dynamic",d=c;s()}catch(e){s(e)}})},2685:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.d(t,{Z:()=>e});var a=r(1851);let e=(await (0,a.createProxy)(String.raw`C:\sakhi\sakhi_store\components\ProductCard.tsx`)).default;s()}catch(e){s(e)}},1)},4363:(e,t,r)=>{"use strict";r.d(t,{AU:()=>c,Dk:()=>n,Er:()=>l,KL:()=>o,M7:()=>a,Xp:()=>i,bG:()=>s});let s=async()=>{let e=await fetch("http://localhost:3000/api/collections");return await e.json()},a=async e=>{let t=await fetch(`http://localhost:3000/api/collections/${e}`);return await t.json()},i=async()=>{try{let e=await fetch("http://localhost:3000/api/products");if(!e.ok)throw Error("Failed to fetch products");return await e.json()}catch(e){return console.error("Error fetching products:",e),[]}},o=async e=>{let t=await fetch(`http://localhost:3000/api/products/${e}`);return await t.json()},n=async e=>{let t=await fetch(`http://localhost:3000/api/search/${e}`);return await t.json()},c=async e=>{let t=await fetch(`http://localhost:3000/api/orders/customers/${e}`);return await t.json()},l=async e=>{let t=await fetch(`http://localhost:3000/api/products/${e}/related`);return await t.json()}}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[424,691,131,292,330,789],()=>r(6809));module.exports=s})();